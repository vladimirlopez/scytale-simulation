<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <!-- <link rel="icon" type="image/svg+xml" href="/vite.svg" /> -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Interactive Scytale Cipher Simulation for learning cryptography.">
  <title>Scytale Cipher | Intro to Cryptography</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Outfit:wght@300;400;600&display=swap"
    rel="stylesheet">
  <script type="module" crossorigin src="./assets/index-BX7DTPfN.js"></script>
  <link rel="stylesheet" crossorigin href="./assets/index-B0yV4dcI.css">
</head>

<body>
  <div id="app">
    <header>
      <div class="logo">
        <h1>SCYTALE <span class="accent">CIPHER</span></h1>
      </div>
      <nav>
        <button id="btn-learn" class="nav-btn">How it Works</button>
        <button id="btn-challenge" class="nav-btn special">Challenge Mode</button>
      </nav>
    </header>

    <main>
      <div class="controls-panel card">
        <div class="input-group">
          <label for="message-input">MESSAGE</label>
          <textarea id="message-input" placeholder="Enter your secret message here..."></textarea>
        </div>

        <div class="settings-group">
          <div class="setting">
            <label for="diameter-input">ROD FACES (DIAMETER)</label>
            <div class="slider-container">
              <input type="range" id="diameter-slider" min="2" max="10" value="4">
              <span id="diameter-value">4</span>
            </div>
          </div>

          <div class="setting toggles">
            <label>OPERATION</label>
            <div class="toggle-switch">
              <button id="mode-encode" class="active">Encode</button>
              <button id="mode-decode">Decode</button>
            </div>
          </div>
        </div>
      </div>

      <div class="visualization-panel">
        <div class="scytale-container" id="scytale-container">
          <!-- 3D Cylinder will be rendered here -->
          <div class="rod-wrapper">
            <div id="cylinder" class="cylinder">
              <!-- Faces generated by JS -->
            </div>
          </div>
        </div>
        <div class="instruction-overlay" id="visual-instruction">
          <p>Drag to rotate the rod</p>
        </div>
      </div>

      <div class="output-panel card">
        <h2>RESULT</h2>
        <div class="result-box" id="result-output">
          <!-- Result text -->
        </div>
        <button id="btn-copy" class="action-btn">Copy Result</button>
      </div>
    </main>

    <!-- Modals -->
    <div id="modal-learn" class="modal hidden">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>The Spartan Scytale</h2>
        <p>
          The scytale (rhymes with "Italy") is one of the earliest cryptographic devices, used by the ancient Spartans
          around 400 BC.
        </p>
        <div class="illustration-placeholder">
          <div class="diagram-scytale"></div>
        </div>
        <h3>How it Works</h3>
        <p>
          1. A strip of parchment is wound spirally around a cylinder (rod).<br>
          2. The message is written lengthwise along the rod.<br>
          3. When unwound, the letters are scrambled.<br>
          4. To read it, the receiver must wrap the strip around a rod of the same diameter.
        </p>
      </div>
    </div>

    <div id="modal-challenge" class="modal hidden">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>Cryptography Challenge</h2>
        <p>Your commander has intercepted a Spartan messenger. The strip reads:</p>
        <div class="challenge-code">H_A_T_L_E_L_O</div>
        <!-- dynamic challenge -->
        <p id="challenge-text" class="challenge-text"></p>
        <p>Hint: We believe the rod used had <span id="challenge-hint-faces">?</span> faces.</p>
        <input type="text" id="challenge-input" placeholder="Decoded message...">
        <button id="btn-submit-challenge">Submit Decrypt</button>
        <div id="challenge-success" class="hidden">
          <h3>Correct!</h3>
          <p>You have proven your skills.</p>
          <button id="btn-download-cert">Download Certificate</button>
        </div>
      </div>
    </div>

  </div>
</body>

</html>