:root{--bg-dark: #0f1115;--bg-panel: rgba(30, 32, 40, .85);--accent-gold: #d4af37;--accent-gold-glow: rgba(212, 175, 55, .4);--text-main: #e0e0e0;--text-dim: #a0a0a0;--font-display: "Cinzel", serif;--font-body: "Outfit", sans-serif;--rod-wood: #5D4037;--rod-wood-dark: #3E2723;--parchment-bg: #E3D4B5;--ink-color: #2c1a0f}*{box-sizing:border-box;margin:0;padding:0}body{font-family:var(--font-body);background-color:var(--bg-dark);color:var(--text-main);min-height:100vh;overflow-y:auto;display:flex;flex-direction:column}#app{width:100%;height:100%;padding:20px;display:flex;flex-direction:column}header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding:10px 20px;background:#0000004d;border-radius:12px;border:1px solid rgba(255,255,255,.05)}h1{font-family:var(--font-display);font-size:1.8rem;letter-spacing:2px}.accent{color:var(--accent-gold)}.nav-btn{background:transparent;border:1px solid var(--accent-gold);color:var(--accent-gold);padding:8px 16px;font-family:var(--font-body);border-radius:4px;cursor:pointer;transition:all .3s ease;margin-left:10px}.nav-btn:hover{background:var(--accent-gold);color:var(--bg-dark)}.nav-btn.special{background:#d4af371a}main{display:grid;grid-template-columns:350px 1fr;gap:20px;flex:1;min-height:0;padding:0 10px}.card{background:var(--bg-panel);border-radius:12px;padding:24px;border:1px solid rgba(255,255,255,.05);display:flex;flex-direction:column}.controls-panel{gap:30px}.input-group label,.setting label{color:var(--accent-gold);font-size:.85rem;font-weight:600;margin-bottom:10px;display:block;letter-spacing:1px}textarea{width:100%;height:200px;background:#0000004d;border:1px solid #444;border-radius:8px;padding:15px;color:#fff;font-family:monospace;font-size:1.1rem;resize:none}textarea:focus{outline:none;border-color:var(--accent-gold)}.slider-container{display:flex;align-items:center;gap:15px}input[type=range]{flex:1;accent-color:var(--accent-gold);cursor:pointer}#diameter-value{font-family:var(--font-display);font-size:1.8rem;color:var(--accent-gold);min-width:40px;text-align:center}.toggle-switch{display:flex;background:#0000004d;border-radius:8px;padding:4px}.toggle-switch button{flex:1;background:transparent;border:none;padding:10px;color:var(--text-dim);cursor:pointer;border-radius:6px;font-weight:600}.toggle-switch button.active{background:var(--accent-gold);color:var(--bg-dark)}.visualization-panel{display:flex;flex-direction:column;gap:20px;position:relative}.scene-3d{min-height:400px;flex:none;background:radial-gradient(circle at center,#2e2e3a,#15161b);border-radius:12px;border:1px solid #333;position:relative;overflow:hidden;perspective:1500px;display:flex;justify-content:center;align-items:center}.rod-instructions{position:absolute;top:15px;left:50%;transform:translate(-50%);color:#fff6;font-size:.9rem;pointer-events:none;z-index:10}.scytale-wrapper{position:relative;transform-style:preserve-3d;width:600px;height:100px;transition:transform .1s linear}.cylinder{position:absolute;top:0;left:0;width:100%;height:100%;transform-style:preserve-3d}.face{position:absolute;width:100%;height:60px;background:#d4af37;border-top:1px solid rgba(0,0,0,.15);border-bottom:1px solid rgba(0,0,0,.15);box-shadow:inset 0 0 20px #0000000d;display:flex;flex-direction:row;align-items:center;padding-left:10px;font-family:Courier New,monospace;font-weight:700;font-size:20px;color:var(--ink-color);overflow:hidden;backface-visibility:hidden}.face-char{width:30px;text-align:center}.strip-view-container{height:180px;background:#1a1b20;border-radius:12px;border:1px solid #333;padding:15px;display:flex;flex-direction:column}.strip-view-container label{color:var(--text-dim);font-size:.8rem;margin-bottom:10px;letter-spacing:1px}.strip-track{flex:1;background:#111;border-radius:8px;overflow-x:auto;overflow-y:hidden;display:flex;align-items:center;padding:0 10px;scrollbar-width:thin;scrollbar-color:var(--accent-gold) #111}.parchment-strip{display:flex;background:url(../parchment.png);background-color:var(--parchment-bg);height:60px;align-items:center;padding:0 20px;border-radius:2px;box-shadow:0 4px 10px #00000080;border:1px dashed rgba(0,0,0,.3);min-width:100%}.strip-char{width:30px;height:40px;border-right:1px dotted rgba(0,0,0,.2);display:flex;justify-content:center;align-items:center;font-family:Courier New,monospace;font-weight:700;font-size:1.2rem;white-space:pre;color:var(--ink-color);flex-shrink:0}.modal{position:fixed;z-index:1000;top:0;left:0;width:100%;height:100%;background:#000000e6;display:flex;justify-content:center;align-items:center}.modal.hidden{display:none}.modal-content{background:#1e2029;padding:40px;border:1px solid var(--accent-gold);border-radius:8px;max-width:600px;position:relative}.close-modal{position:absolute;top:10px;right:20px;font-size:2rem;cursor:pointer}h2{color:var(--accent-gold);font-family:var(--font-display);margin-bottom:15px}.challenge-code{background:#000;color:var(--accent-gold);font-family:monospace;font-size:1.5rem;padding:20px;text-align:center;border:1px solid #444;margin:20px 0}#btn-submit-challenge{background:var(--accent-gold);border:none;padding:12px;width:100%;font-weight:700;cursor:pointer;margin-top:10px}@media(max-width:900px){main{grid-template-columns:1fr;overflow-y:scroll}.visualization-panel{min-height:500px}}.grid-view-container{background:#0003;padding:15px;border-radius:8px;border:1px solid rgba(255,255,255,.1);margin-top:20px}.grid-content{display:flex;flex-direction:column;gap:5px;margin-top:10px;background:#1e2029;padding:10px;border-radius:4px;overflow-x:auto}.grid-row{display:flex;gap:5px;border-bottom:1px dotted rgba(255,255,255,.1);padding:5px 0}.grid-cell{width:30px;height:30px;display:flex;justify-content:center;align-items:center;background:var(--parchment-bg);color:var(--ink-color);font-family:Courier New,monospace;font-weight:700;border:1px solid rgba(0,0,0,.1);border-radius:2px}.grid-cell.first-col{border-color:var(--accent-gold);background-color:#f0e6d2;box-shadow:0 0 5px #d4af374d}.grid-row:before{content:"FACE " attr(data-face);color:#666;font-size:10px;width:60px;display:flex;align-items:center}.decoded-message-container{background:#0006;padding:20px;border-radius:8px;border:2px solid var(--accent-gold);box-shadow:0 4px 15px #0000004d;margin:10px 0}.decoded-message-container label{color:var(--accent-gold);font-size:.9rem;font-weight:600;letter-spacing:1px;margin-bottom:10px;display:block}.decoded-message{font-family:Courier New,monospace;font-size:1.8rem;font-weight:700;color:#fff;background:linear-gradient(135deg,#1a1b20,#2a2b30);padding:15px 20px;border-radius:6px;letter-spacing:3px;min-height:50px;display:flex;align-items:center;border-left:4px solid var(--accent-gold)}.decoded-message.empty{color:#666;font-style:italic;font-size:1rem;letter-spacing:normal}.char-counter{color:var(--text-dim);font-size:.8rem;margin-top:8px;text-align:right}.char-counter.warning{color:#f0ad4e}.char-counter.error{color:#d9534f;font-weight:700}.strip-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.copy-btn{background:transparent;border:1px solid var(--accent-gold);color:var(--accent-gold);padding:6px 12px;font-size:.85rem;border-radius:4px;cursor:pointer;transition:all .3s ease}.copy-btn:hover{background:var(--accent-gold);color:var(--bg-dark)}.copy-btn.copied{background:#28a745;border-color:#28a745;color:#fff}.challenge-game{max-width:650px}.game-progress{display:flex;justify-content:space-between;background:#0000004d;padding:12px 20px;border-radius:8px;margin-bottom:20px}.progress-label,.score-label{font-size:1rem;color:var(--text-main)}.progress-label span,.score-label span{color:var(--accent-gold);font-weight:700}.challenge-input-group{display:flex;gap:10px;margin:15px 0}.challenge-input-group input{flex:1;padding:12px;font-size:1rem;border:1px solid #444;border-radius:4px;background:#0000004d;color:#fff}.challenge-input-group button{background:var(--accent-gold);border:none;padding:12px 24px;font-weight:700;cursor:pointer;border-radius:4px}.challenge-feedback{padding:12px;border-radius:6px;margin:10px 0;text-align:center}.challenge-feedback.incorrect{background:#d9534f33;border:1px solid #d9534f;color:#f5a5a3}.challenge-success{text-align:center;padding:20px;background:#28a7451a;border:1px solid #28a745;border-radius:8px;margin-top:15px}.challenge-success h3{color:#28a745;margin-bottom:10px}.next-btn{background:var(--accent-gold);border:none;padding:12px 24px;font-weight:700;cursor:pointer;border-radius:4px;margin-top:10px}.game-complete{text-align:center;padding:30px;background:linear-gradient(135deg,#d4af371a,#d4af370d);border:2px solid var(--accent-gold);border-radius:12px;margin-top:20px}.game-complete h3{font-size:1.5rem;margin-bottom:10px}.game-complete p{font-size:1.2rem;margin-bottom:20px}.game-complete-buttons{display:flex;gap:15px;justify-content:center}.game-complete-buttons button{padding:12px 24px;font-weight:700;cursor:pointer;border-radius:4px;border:none}.reset-btn{background:transparent;border:1px solid var(--accent-gold)!important;color:var(--accent-gold)}
