:root{--bg-dark: #0d1117;--bg-panel: #161b22;--bg-input: #0d1117;--accent-primary: #58a6ff;--accent-secondary: #00BCD4;--text-main: #e6edf3;--text-dim: #8b949e;--border-color: #30363d;--font-body: "Inter", sans-serif;--font-mono: "Fira Code", monospace;--rod-wood: #5D4037;--rod-wood-dark: #3E2723;--parchment-bg: #E3D4B5;--ink-color: #2c1a0f}*{box-sizing:border-box;margin:0;padding:0}body{font-family:var(--font-body);background-color:var(--bg-dark);color:var(--text-main);min-height:100vh;overflow-y:auto;display:flex;flex-direction:column;line-height:1.5}#app{width:100%;max-width:1200px;margin:0 auto;padding:40px 20px;display:flex;flex-direction:column}header{display:flex;justify-content:space-between;align-items:center;margin-bottom:40px;padding-bottom:20px;border-bottom:1px solid var(--border-color)}h1{font-weight:700;font-size:1.5rem;letter-spacing:-.5px}.accent{color:var(--accent-primary)}.nav-btn{background:transparent;border:1px solid var(--border-color);color:var(--text-main);padding:8px 16px;font-size:.9rem;font-weight:500;border-radius:6px;cursor:pointer;transition:all .2s ease;margin-left:10px}.nav-btn:hover{background:var(--border-color);border-color:var(--text-dim)}.nav-btn.special{background:var(--accent-primary);border-color:var(--accent-primary);color:#fff}.nav-btn.special:hover{filter:brightness(1.1)}main{display:grid;grid-template-columns:350px 1fr;gap:30px;flex:1}.card{background:var(--bg-panel);border-radius:8px;padding:24px;border:1px solid var(--border-color);display:flex;flex-direction:column}.controls-panel{gap:25px;height:fit-content}.input-group label,.setting label{color:var(--text-dim);font-size:.75rem;font-weight:600;margin-bottom:8px;display:block;text-transform:uppercase;letter-spacing:.5px}textarea{width:100%;height:180px;background:var(--bg-input);border:1px solid var(--border-color);border-radius:6px;padding:12px;color:var(--text-main);font-family:var(--font-mono);font-size:1rem;resize:none;transition:border-color .2s}textarea:focus{outline:none;border-color:var(--accent-primary);box-shadow:0 0 0 3px #58a6ff1a}.slider-container{display:flex;align-items:center;gap:15px}input[type=range]{flex:1;accent-color:var(--accent-primary);cursor:pointer}#diameter-value{font-weight:700;font-size:1.5rem;color:var(--accent-primary);min-width:40px;text-align:center}.toggle-switch{display:flex;background:var(--bg-input);border:1px solid var(--border-color);border-radius:6px;padding:3px}.toggle-switch button{flex:1;background:transparent;border:none;padding:8px;color:var(--text-dim);cursor:pointer;border-radius:4px;font-weight:500;font-size:.9rem;transition:all .2s}.toggle-switch button.active{background:var(--border-color);color:var(--text-main)}.visualization-panel{display:flex;flex-direction:column;gap:24px}.scene-3d{min-height:350px;background:#0d1117;background-image:radial-gradient(#30363d .5px,transparent .5px);background-size:20px 20px;border-radius:8px;border:1px solid var(--border-color);position:relative;overflow:hidden;perspective:1200px;display:flex;justify-content:center;align-items:center}.rod-instructions{position:absolute;bottom:20px;left:50%;transform:translate(-50%);color:var(--text-dim);font-size:.8rem;pointer-events:none;z-index:10;background:#0d1117cc;padding:4px 12px;border-radius:20px;border:1px solid var(--border-color)}.scytale-wrapper{position:relative;transform-style:preserve-3d;width:600px;height:100px;transition:transform .1s linear}.cylinder{position:absolute;top:0;left:0;width:100%;height:100%;transform-style:preserve-3d}.face{position:absolute;width:100%;height:60px;background:var(--accent-secondary);border-top:1px solid rgba(0,0,0,.1);border-bottom:1px solid rgba(0,0,0,.1);display:flex;flex-direction:row;align-items:center;padding-left:10px;font-family:var(--font-mono);font-weight:600;font-size:18px;color:var(--ink-color);overflow:hidden;backface-visibility:hidden}.face-char{width:30px;text-align:center}.strip-view-container{background:var(--bg-panel);border-radius:8px;border:1px solid var(--border-color);padding:20px}.strip-view-container label{color:var(--text-dim);font-size:.75rem;font-weight:600;text-transform:uppercase;margin-bottom:12px;display:block}.strip-track{background:var(--bg-input);border-radius:6px;overflow-x:auto;padding:15px;border:1px solid var(--border-color)}.parchment-strip{display:flex;background-color:var(--parchment-bg);height:50px;align-items:center;padding:0 15px;border-radius:2px;box-shadow:0 2px 8px #0003;min-width:100%}.strip-char{width:25px;height:35px;border-right:1px dotted rgba(0,0,0,.1);display:flex;justify-content:center;align-items:center;font-family:var(--font-mono);font-weight:600;font-size:1rem;color:var(--ink-color);flex-shrink:0}.decoded-message-container{background:var(--bg-panel);padding:24px;border-radius:8px;border:1px solid var(--accent-primary);box-shadow:0 4px 20px #58a6ff1a}.decoded-message-container label{color:var(--accent-primary);font-size:.75rem;font-weight:700;text-transform:uppercase;margin-bottom:12px;display:block}.decoded-message{font-family:var(--font-mono);font-size:1.5rem;font-weight:600;color:var(--text-main);background:var(--bg-input);padding:15px 20px;border-radius:6px;border:1px solid var(--border-color);min-height:60px;display:flex;align-items:center}.decoded-message.empty{color:var(--text-dim);font-size:.9rem;font-style:italic}.grid-view-container{background:var(--bg-panel);padding:20px;border-radius:8px;border:1px solid var(--border-color)}.grid-content{display:flex;flex-direction:column;gap:4px;margin-top:12px;background:var(--bg-input);padding:12px;border-radius:6px;border:1px solid var(--border-color);overflow-x:auto}.grid-row{display:flex;gap:4px}.grid-row:before{content:"F" attr(data-face);color:var(--text-dim);font-size:10px;width:24px;display:flex;align-items:center;font-weight:600}.grid-cell{width:28px;height:28px;display:flex;justify-content:center;align-items:center;background:var(--parchment-bg);color:var(--ink-color);font-family:var(--font-mono);font-weight:600;font-size:.9rem;border-radius:2px}.grid-cell.first-col{background-color:var(--accent-primary);color:#fff}.modal{position:fixed;z-index:1000;top:0;left:0;width:100%;height:100%;background:#0d1117f2;display:flex;justify-content:center;align-items:center;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal.hidden{display:none}.modal-content{background:var(--bg-panel);border:1px solid var(--border-color);color:var(--text-main);padding:40px;border-radius:12px;box-shadow:0 20px 50px #00000080;max-width:650px;width:90%;position:relative;animation:modal-slide-up .3s ease}@keyframes modal-slide-up{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.close-modal{position:absolute;top:20px;right:25px;font-size:1.5rem;cursor:pointer;color:var(--text-dim);line-height:1}.modal-content h3{font-size:1.1rem;margin:20px 0 10px}.modal-content p{margin-bottom:15px;color:var(--text-main)}.close-modal{color:var(--text-dim)}.close-modal:hover{color:var(--text-main)}.challenge-code{background:var(--bg-input);border:1px solid var(--border-color);color:var(--accent-secondary);font-family:var(--font-mono);font-size:1.8rem;padding:24px;text-align:center;border-radius:8px;margin:20px 0;letter-spacing:2px}.challenge-input-group{display:flex;gap:12px;margin:20px 0}.challenge-input-group input{flex:1;background:var(--bg-input);border:1px solid var(--border-color);border-radius:6px;padding:12px;color:#fff;font-size:1rem}.challenge-input-group button{background:var(--accent-primary);color:#fff;border:none;padding:0 24px;font-weight:600;border-radius:6px;cursor:pointer}.game-progress{display:flex;justify-content:space-between;background:var(--bg-input);padding:12px 20px;border-radius:8px;margin-bottom:24px;border:1px solid var(--border-color)}.challenge-feedback{margin:15px 0;padding:12px;border-radius:6px;text-align:center}.challenge-feedback.incorrect{background:#f851491a;color:#f85149;border:1px solid rgba(248,81,73,.2)}.challenge-success,.game-complete{text-align:center;border-top:1px solid var(--border-color);margin-top:24px;padding-top:24px}.challenge-success h3{color:#3fb950;margin-bottom:12px}.next-btn,.reset-btn{background:var(--accent-primary);color:#fff;border:none;padding:12px 24px;font-weight:600;border-radius:6px;cursor:pointer;margin-top:12px}.reset-btn{background:transparent;border:1px solid var(--border-color)}.hidden{display:none!important}footer{margin-top:60px;padding:30px;text-align:center;border-top:1px solid var(--border-color);color:var(--text-dim);font-size:.85rem}@media(max-width:900px){main{grid-template-columns:1fr}}
